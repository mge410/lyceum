<!doctype html> {% load static %}
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

  <link rel="stylesheet" href=" {% static 'css/style.css' %} ">
  <link rel="icon" type="image/x-icon" href="{% static 'img/favicon/favicon.ico' %}"> {% block title %}
  <title>Пушистики</title>
  {% endblock %}
</head>

<body>

  {% include 'include/header.html' %}
  <main class="main">
    {% block content %}Контент не подгрузился =({% endblock %}
  </main>
  {% include 'include/footer.html' %}

  <script src="{% static 'jquery/jquery-3.2.1.min.js' %}"></script>
  <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'js/main.js' %}"></script>

  <script>
    function srvTime() {
      let xmlHttp
      try {
        xmlHttp = new XMLHttpRequest();
      } catch (err1) {
        alert("AJAX not supported");
      }
      xmlHttp.open('HEAD', window.location.href.toString(), false);
      xmlHttp.setRequestHeader("Content-Type", "text/html");
      xmlHttp.send('');
      console.log(xmlHttp)
      return xmlHttp.getResponseHeader("Date");
    }
    let serverTimeResponse = srvTime();
    let serverDate = new Date(serverTimeResponse);
    let userDate = new Date()
    distinctionTime = Math.abs(serverDate - userDate)
    if (distinctionTime < 86400000 * 24) {
      dateElement = document.getElementById('date')
      const dateRezult = (userDate) => {
        const year = userDate.getFullYear()
        const month = userDate.getMonth().toString().padStart(2, '0')
        const date = userDate.getDate().toString().padStart(2, '0')
        const hours = userDate.getHours().toString().padStart(2, '0')
        const minuts = userDate.getMinutes().toString().padStart(2, '0')
        return `${year} ${month} ${date} ${hours}:${minuts}`
      }
      dateElement.innerHTML = dateRezult(userDate)
    }
  </script>
</body>

</html>